ä¸‹é¢æ˜¯ä¸€ä»½é’ˆå¯¹â€œæ ¡å›­ç”Ÿæ´»åŠ©æ‰‹â€Android æœŸæœ«é¡¹ç›®çš„è¯¦ç»†è®¡åˆ’ä¹¦ï¼Œå°½é‡å¯¹åº”ä½ è¯¾ç¨‹ä¸­ç»™çš„ PDFã€å®éªŒå†…å®¹ï¼ˆUIã€æ´»åŠ¨ã€ç½‘ç»œã€LBSã€å¤šåª’ä½“ã€æ•°æ®æŒä¹…åŒ–ã€å¹¿æ’­ç­‰ï¼‰ï¼Œæ–¹ä¾¿ä½ å¼€å‘æ—¶â€œé¡ºä¾¿å¤ä¹ çŸ¥è¯†ç‚¹â€ã€‚

---

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ä¸»é¢˜ä¸ç›®æ ‡

- ä¸»é¢˜ï¼šæ ¡å›­ç”Ÿæ´»åŠ©æ‰‹ï¼ˆCampus Assistantï¼‰
- é¢å‘ç”¨æˆ·ï¼šæœ¬æ ¡åœ¨æ ¡å­¦ç”Ÿ
- æ ¸å¿ƒç›®æ ‡ï¼š
  1. æä¾›æ ¡å›­å¸¸ç”¨ä¿¡æ¯çš„å¿«æ·æŸ¥è¯¢ï¼ˆè¯¾ç¨‹ã€æ•™å®¤ã€å…¬å‘Šã€åŠäº‹ç”µè¯ç­‰ï¼‰ã€‚
  2. æä¾›åŸºäºåœ°å›¾çš„æ ¡å›­å¯¼èˆªå’Œåœ°ç‚¹æŸ¥è¯¢ã€‚
  3. æ”¯æŒä¸ªäººæ—¥ç¨‹ / å¤‡å¿˜å½•ç®¡ç†ã€‚
  4. é€‚å½“åŠ å…¥ç½‘ç»œæœåŠ¡ï¼ˆå¤©æ°”ã€æ–°é—»ï¼‰å’Œå¤šåª’ä½“ï¼ˆæ ¡å›­é£å…‰ã€é“ƒå£°ç­‰ï¼‰ã€‚

### 1.2 å¼€å‘ç¯å¢ƒä¸æŠ€æœ¯æ ˆ

- è¯­è¨€ï¼šJava
- æœ€ä½ SDKï¼šå»ºè®® 21 æˆ– 24
- IDEï¼šAndroid Studio
- ä¸»è¦æŠ€æœ¯ç‚¹ï¼ˆå¯¹ç…§è¯¾ç¨‹ï¼‰ï¼š
  - æ´»åŠ¨ä¸ Activity ç”Ÿå‘½å‘¨æœŸ
  - åŸºæœ¬ UI ç»„ä»¶ã€å¸ƒå±€
  - ListView / RecyclerView
  - Fragmentï¼ˆå¯é€‰ï¼Œä½†å»ºè®®ï¼‰
  - Intent ä¸ Activity ä¹‹é—´æ•°æ®ä¼ é€’
  - å¹¿æ’­å‘é€ä¸æ¥æ”¶ï¼ˆå¦‚æé†’ï¼‰
  - æ•°æ®æŒä¹…åŒ–ï¼šSharedPreferences / æ–‡ä»¶ / SQLite / Roomï¼ˆäºŒé€‰ä¸€ï¼‰
  - ç½‘ç»œç¼–ç¨‹ï¼šHttpURLConnection æˆ– OkHttpï¼ˆæŒ‰è¯¾ç¨‹ PDFï¼‰
  - LBSï¼šåœ°å›¾ä¸å®šä½ï¼ˆè¯¾ç¨‹çš„ LBS.pdfï¼‰
  - å¤šåª’ä½“ï¼šå›¾ç‰‡ã€ç®€å•éŸ³é¢‘æ’­æ”¾
  - å†…å®¹æä¾›å™¨ï¼ˆå¯é€‰ï¼šè¯»å–ç³»ç»Ÿæ—¥å†/è”ç³»äººç­‰ï¼‰

---

## äºŒã€ç³»ç»ŸåŠŸèƒ½æ¨¡å—è®¾è®¡

ä¸‹é¢æ¨¡å—ä½ å¯ä»¥æŒ‰è¯¾ç¨‹éœ€è¦â€œæŒ‘é‡ç‚¹â€ï¼Œä½†å»ºè®®å®ç°è‡³å°‘ 4â€“5 ä¸ªè¾ƒå®Œæ•´çš„æ¨¡å—ã€‚

### 2.1 ç”¨æˆ·ä¸é¦–é¡µæ¨¡å—

**åŠŸèƒ½ï¼š**

- App å¯åŠ¨é¡µ + ç™»å½•/æ³¨å†Œï¼ˆæœ¬åœ°è´¦å·ï¼‰æˆ–â€œå…ç™»å½•ç›´æ¥ä½¿ç”¨â€ã€‚
- é¦–é¡µé‡‡ç”¨ BottomNavigation æˆ– TabLayout + ViewPagerï¼š
  - ã€Œé¦–é¡µã€ï¼šä»Šæ—¥è¯¾ç¨‹ / å¿«æ·å…¥å£
  - ã€Œåœ°å›¾ã€ï¼šæ ¡å›­åœ°å›¾ä¸å¯¼èˆª
  - ã€Œæ—¥ç¨‹ã€ï¼šå¾…åŠä¸æé†’
  - ã€Œå‘ç°ã€ï¼šå…¬å‘Šã€æ´»åŠ¨ã€å¤±ç‰©æ‹›é¢†ç­‰
  - ã€Œæˆ‘çš„ã€ï¼šä¸ªäººä¿¡æ¯è®¾ç½®

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**

- Activityã€Fragment ä½¿ç”¨ï¼ˆç§»åŠ¨åº”ç”¨å¼€å‘-3 æ´»åŠ¨.pdfï¼‰
- åŸºæœ¬ UI å¸ƒå±€ï¼šLinearLayoutã€RelativeLayoutã€ConstraintLayoutï¼ˆ-2 UI.pdfï¼‰
- Intent / Bundle å®ç° Activity é—´è·³è½¬ä¸æ•°æ®ä¼ é€’ï¼ˆå®éªŒ4ï¼‰
- SharedPreferences ä¿å­˜ç™»å½•çŠ¶æ€ä¸ç®€å•è®¾ç½®ï¼ˆæ•°æ®æŒä¹…åŒ–.pdf / å®éªŒ7ï¼‰

---

### 2.2 è¯¾ç¨‹è¡¨ä¸æ•™å®¤æŸ¥è¯¢æ¨¡å—ï¼ˆæ ¸å¿ƒä¸šåŠ¡æ¨¡å—ä¹‹ä¸€ï¼‰

**åŠŸèƒ½ï¼š**

1. è¯¾ç¨‹ç®¡ç†  
   - æ‰‹åŠ¨æ·»åŠ è¯¾ç¨‹ï¼šè¯¾ç¨‹åç§°ã€æ•™å®¤ã€æ—¶é—´ã€è€å¸ˆã€å‘¨æ¬¡ã€‚
   - æŒ‰å‘¨æ˜¾ç¤ºè¯¾ç¨‹è¡¨ï¼ˆå¯ä»¥ç®€å•ç”¨ ListView / RecyclerView + å¤šè¡Œå¸ƒå±€ï¼‰ã€‚
   - æ”¯æŒä¿®æ”¹ / åˆ é™¤è¯¾ç¨‹ã€‚

2. æ•™å®¤æŸ¥è¯¢ï¼ˆå¯ç®€åŒ–ï¼‰ï¼š  
   - å›ºå®šå†™å…¥è‹¥å¹²æ•™å­¦æ¥¼ä¸æ•™å®¤ä¿¡æ¯ï¼Œæ”¯æŒæŒ‰æ•™å­¦æ¥¼æŸ¥çœ‹ç©ºæ•™å®¤åˆ—è¡¨ã€‚

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**

- ListView æˆ– RecyclerViewï¼ˆListViewPicture.docxã€å®éªŒ3ï¼‰
- è‡ªå®šä¹‰ Adapter ä¸å¤šå¸ƒå±€ item
- æ•°æ®æŒä¹…åŒ–ï¼š
  - ç®€å•å®ç°ï¼šä½¿ç”¨ SQLiteOpenHelper å»ºè¡¨ï¼ˆè¯¾ç¨‹ schedule.dbï¼‰  
- å¯¹è¯æ¡† Dialog / AlertDialog ç”¨äºå¢åˆ æ”¹è¯¾ç¨‹
- æ—¶é—´é€‰æ‹©å™¨ DatePicker / TimePickerï¼ˆUI æ§ä»¶ï¼‰

---

### 2.3 æ ¡å›­åœ°å›¾ä¸å¯¼èˆªæ¨¡å—ï¼ˆLBSï¼‰

**åŠŸèƒ½ï¼š**

1. æ ¡å›­åœ°å›¾å±•ç¤º
   - ä½¿ç”¨é«˜å¾·/ç™¾åº¦/è…¾è®¯åœ°å›¾ SDK æ˜¾ç¤ºå­¦æ ¡èŒƒå›´åœ°å›¾ã€‚
   - æ ‡æ³¨å¸¸ç”¨åœ°ç‚¹ï¼šæ•™å­¦æ¥¼ã€é£Ÿå ‚ã€å›¾ä¹¦é¦†ã€å®¿èˆã€è¡Œæ”¿æ¥¼ç­‰ï¼ˆMarkerï¼‰ã€‚
   - ç‚¹å‡» Marker å¼¹å‡ºç®€ä»‹ï¼ˆåç§°ã€å¼€æ”¾æ—¶é—´ã€å¤‡æ³¨ï¼‰ã€‚

2. å®šä½ä¸è·¯å¾„
   - æ˜¾ç¤ºå½“å‰ä½ç½®ï¼ˆå®šä½åˆ°æ ¡å›­å†…ï¼‰ã€‚
   - é€‰ä¸­ä¸€ä¸ªåœ°ç‚¹ï¼Œæ˜¾ç¤ºâ€œä»æˆ‘å½“å‰ä½ç½®åˆ°è¯¥åœ°ç‚¹â€çš„æ­¥è¡Œè·¯å¾„ï¼Œæˆ–è‡³å°‘æ˜¾ç¤ºä¸¤ç‚¹é—´è·ç¦»ã€‚
   - æ”¯æŒæœç´¢ POIï¼šè¾“å…¥â€œå›¾ä¹¦é¦†â€ã€â€œXX é£Ÿå ‚â€å¿«é€Ÿå®šä½ï¼ˆå¯ç”¨ SDK æä¾›çš„ POI æœç´¢ï¼›æˆ–åœ¨æœ¬åœ°åˆ—è¡¨é‡Œæ¨¡ç³Šæœç´¢å³å¯ï¼‰ã€‚

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼ˆå¯¹åº” LBS ä½¿ç”¨.pdfï¼‰**

- Manifest ä¸­æƒé™ç”³è¯·ï¼ˆACCESS_FINE_LOCATIONã€INTERNET ç­‰ï¼‰
- è¿è¡Œæ—¶æƒé™è¯·æ±‚
- åœ°å›¾ SDK é›†æˆä¸ MapView ç”Ÿå‘½å‘¨æœŸ
- è·å–å®šä½ä¿¡æ¯ï¼ˆLocationManager / SDK å®šä½æ¥å£ï¼‰
- Marker æ·»åŠ ã€ä¿¡æ¯çª—ä½“ InfoWindow
- è·¯å¾„è§„åˆ’ / ä½ç½®æœç´¢ï¼ˆè°ƒç”¨ SDK APIï¼Œä½“ç°â€œç½‘ç»œä¸ LBS ç»“åˆâ€ï¼‰

---

### 2.4 æ—¥ç¨‹ / å¤‡å¿˜å½•ä¸æé†’æ¨¡å—

**åŠŸèƒ½ï¼š**

1. æ–°å»ºæ—¥ç¨‹ / å¤‡å¿˜ï¼šäº‹ä»¶æ ‡é¢˜ã€æ—¥æœŸæ—¶é—´ã€åœ°ç‚¹ã€å¤‡æ³¨ã€‚
2. åˆ—è¡¨æŸ¥çœ‹å…¨éƒ¨æ—¥ç¨‹ï¼ŒæŒ‰æ—¶é—´æ’åºã€‚
3. åˆ°æ—¶é—´å‰ X åˆ†é’Ÿå‘é€é€šçŸ¥æé†’ï¼ˆç³»ç»Ÿé€šçŸ¥ + å£°éŸ³/éœ‡åŠ¨ï¼‰ã€‚
4. æ”¯æŒé•¿æŒ‰åˆ é™¤ã€ç‚¹å‡»ç¼–è¾‘ã€‚

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**

- ListView/RecyclerView
- SQLite / SharedPreferences ä¿å­˜æ—¥ç¨‹
- AlarmManager + PendingIntent è®¾ç½®å®šæ—¶ä»»åŠ¡
- å¹¿æ’­æ¥æ”¶å™¨ï¼ˆBroadcastReceiverï¼‰æ¥æ”¶é—¹é’Ÿå¹¿æ’­ï¼ˆå®éªŒ6ï¼šå¹¿æ’­å‘é€ä¸æ¥æ”¶ï¼‰
- Notification é€šçŸ¥æ ï¼ˆç§»åŠ¨åº”ç”¨å¼€å‘-5 å¹¿æ’­.pdf é‡Œä¸€èˆ¬ä¼šæï¼‰
- å¤šåª’ä½“ï¼šæ’­æ”¾ç®€çŸ­æç¤ºéŸ³ï¼ˆMediaPlayerï¼‰ï¼ˆå¤šåª’ä½“.pdfï¼‰

---

### 2.5 æ ¡å›­å…¬å‘Š / èµ„è®¯ / å¤±ç‰©æ‹›é¢†æ¨¡å—ï¼ˆç½‘ç»œ + å¤šåª’ä½“ï¼‰

**åŠŸèƒ½ï¼ˆå¯æŒ‰æ—¶é—´ä¸ç²¾åŠ›è£å‰ªï¼‰ï¼š**

1. æ ¡å›­å…¬å‘Š
   - ä»æœåŠ¡å™¨ / æ¨¡æ‹Ÿæ¥å£è·å–å…¬å‘Šåˆ—è¡¨ï¼ˆå¯ç”¨å­¦æ ¡å®˜ç½‘ RSSï¼Œæˆ–è‡ªå·±å†™é™æ€ JSONï¼Œæ”¾åˆ° Gitee / GitHub Pagesï¼‰ã€‚
   - åˆ—è¡¨å±•ç¤ºæ ‡é¢˜ã€æ—¶é—´ã€æ¥æºï¼›ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µå±•ç¤ºæ­£æ–‡ï¼ˆæ”¯æŒå›¾æ–‡ï¼‰ã€‚
2. æ ¡å›­æ´»åŠ¨ / äºŒæ‰‹ä¿¡æ¯ï¼ˆå¯åšâ€œæœ¬åœ°æ•°æ®â€ï¼‰
   - è‡ªå·±é¢„ç½®å‡ æ¡ JSON æˆ– SQLite æ•°æ®ï¼Œæ¨¡æ‹Ÿä¿¡æ¯å¹¿åœºã€‚
3. å¤šåª’ä½“æ‰©å±•ï¼ˆä»»é€‰ä¸€é¡¹å³å¯è¯æ˜æŒæ¡ï¼‰
   - å±•ç¤ºæ ¡å›­é£å…‰å›¾ç‰‡è½®æ’­ï¼ˆViewPager2 + å›¾ç‰‡èµ„æº / ç½‘ç»œå›¾ç‰‡ï¼‰ã€‚

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**

- ç½‘ç»œè®¿é—®ï¼š
  - HttpURLConnection / OkHttp + JSON è§£æï¼ˆç½‘ç»œ.pdfï¼‰
  - ä¸»çº¿ç¨‹ä¸å­çº¿ç¨‹ã€Handler æˆ– AsyncTask / åç¨‹ï¼ˆçœ‹æ•™æç‰ˆæœ¬ï¼‰
- å¤šåª’ä½“æ˜¾ç¤ºï¼šImageViewã€VideoView / MediaPlayerï¼ˆå¤šåª’ä½“.pdfï¼‰
- å†…å®¹æä¾›å™¨ï¼ˆå¯é€‰ï¼‰ï¼šæ¯”å¦‚ä»ç³»ç»Ÿç›¸å†Œé€‰æ‹©å›¾ç‰‡ä½œä¸ºä¸ªäººå¤´åƒï¼ˆå†…å®¹æä¾›å™¨.pdfï¼‰

---

### 2.6 ä¸ªäººä¸­å¿ƒæ¨¡å—ï¼ˆâ€œæˆ‘çš„â€é¡µé¢ï¼‰

**åŠŸèƒ½ï¼š**

- æ˜¾ç¤ºä¸ç¼–è¾‘ä¸ªäººèµ„æ–™ï¼šå¤´åƒã€æ˜µç§°ã€å­¦å·ï¼ˆæœ¬åœ°å­˜å‚¨å³å¯ï¼‰ã€‚
- åˆ‡æ¢ä¸»é¢˜ï¼ˆæµ…è‰²/æ·±è‰²ï¼Œç®€å•ç”¨ SharedPreferences å¸ƒå°”å€¼æ§åˆ¶ï¼‰ã€‚
- å¸¸ç”¨åŠŸèƒ½å…¥å£ï¼šæ¸…é™¤ç¼“å­˜ã€å…³äºæˆ‘ä»¬ã€ä½¿ç”¨å¸®åŠ©ã€‚
- æ•°æ®å¤‡ä»½/æ¢å¤ï¼ˆå¯é€‰ï¼šè¯¾ç¨‹è¡¨å’Œæ—¥ç¨‹å¯¼å‡ºä¸º JSON æ–‡ä»¶åˆ°æœ¬åœ°ï¼‰ã€‚

**æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š**

- SharedPreferences è¯»å†™
- æ–‡ä»¶å­˜å‚¨ï¼ˆæ•°æ®æŒä¹…åŒ–-æ–‡ä»¶å­˜å‚¨.pdfï¼‰
- è°ƒç”¨ç³»ç»Ÿç›¸å†Œï¼ˆéšå¼ Intent + å†…å®¹æä¾›å™¨ï¼‰
- Menu / Toolbar çš„ä½¿ç”¨

---

## ä¸‰ã€ç³»ç»Ÿè®¾è®¡ç« èŠ‚å»ºè®®ï¼ˆå¯¹åº”è®ºæ–‡/æŠ¥å‘Šç»“æ„ï¼‰

ä½ è´´çš„ç›®å½•ç±»ä¼¼æ¯•ä¸šè®¾è®¡æŠ¥å‘Šï¼Œå¯ä»¥æŒ‰è¿™ä¸ªå¥—è·¯ç²¾ç®€æˆè¯¾ç¨‹é¡¹ç›®ç‰ˆã€‚

### ç¬¬ 1 ç« ï¼šç»ªè®º / æ¦‚è¿°

1. è¯¾é¢˜èƒŒæ™¯ä¸æ„ä¹‰
2. å›½å†…å¤–ç±»ä¼¼ç³»ç»Ÿåˆ†æï¼ˆç®€å•å¯¹æ¯”â€œè¶…çº§è¯¾ç¨‹è¡¨â€ã€å­¦æ ¡å®˜æ–¹ APP ç­‰ï¼‰
3. è®¾è®¡ç›®æ ‡ä¸åŠŸèƒ½èŒƒå›´
4. æœ¬æ–‡ç»“æ„å®‰æ’

### ç¬¬ 2 ç« ï¼šç³»ç»Ÿéœ€æ±‚åˆ†æ

1. å¯è¡Œæ€§åˆ†æï¼ˆæŠ€æœ¯å¯è¡Œæ€§ã€æ—¶é—´å¯è¡Œæ€§ï¼‰
2. ç”¨æˆ·éœ€æ±‚åˆ†æ
   - æ™®é€šå­¦ç”Ÿï¼šæŸ¥è¯¾è¡¨ã€æŸ¥æ•™å®¤ã€æŸ¥åœ°ç‚¹ã€è®°æ—¥ç¨‹ã€çœ‹å…¬å‘Š
3. åŠŸèƒ½éœ€æ±‚
   - ç”¨æ–‡å­—+ç”¨ä¾‹å›¾ / åŠŸèƒ½ç»“æ„å›¾åˆ†æ¨¡å—æè¿°ï¼ˆ2.1~2.6 å„æ¨¡å—ï¼‰
4. æ€§èƒ½éœ€æ±‚ä¸éåŠŸèƒ½éœ€æ±‚
   - æ˜“ç”¨æ€§ã€å“åº”æ—¶é—´ã€ç¦»çº¿å¯ç”¨éƒ¨åˆ†åŠŸèƒ½ç­‰

### ç¬¬ 3 ç« ï¼šæ€»ä½“è®¾è®¡

1. ç³»ç»Ÿæ€»ä½“æ¶æ„
   - é‡‡ç”¨ MVC / MVVM çš„ç®€å•è¯´æ˜  
   - ç”»å‡ºç³»ç»Ÿæ¨¡å—å›¾ï¼šUI å±‚ã€æ•°æ®å±‚ã€æœ¬åœ°å­˜å‚¨ã€ç½‘ç»œå±‚ã€åœ°å›¾ SDKã€‚
2. æµç¨‹è®¾è®¡
   - å…¸å‹æµç¨‹ï¼šç™»å½•æµç¨‹ã€æŸ¥çœ‹è¯¾ç¨‹è¡¨æµç¨‹ã€æ—¥ç¨‹æé†’æµç¨‹ã€åœ°å›¾å¯¼èˆªæµç¨‹ã€‚
3. æ•°æ®åº“è®¾è®¡
   - è¡¨ç»“æ„ï¼šCourseã€Scheduleã€Userã€Notice ç­‰å­—æ®µè¡¨æ ¼ã€‚
4. å…³é”®ç¬¬ä¸‰æ–¹åº“ / SDK è¯´æ˜
   - åœ°å›¾ SDKã€ç½‘ç»œåº“ã€JSON è§£æåº“ç­‰ã€‚

### ç¬¬ 4 ç« ï¼šè¯¦ç»†è®¾è®¡ä¸å®ç°

æŒ‰æ¨¡å—åˆ†èŠ‚ï¼Œå¯¹åº”ä½ è¦å±•ç¤ºè¯¾ç¨‹ä¸­â€œçŸ¥è¯†ç‚¹çš„ä½¿ç”¨â€ã€‚

1. é¦–é¡µä¸å¯¼èˆªç•Œé¢è®¾è®¡
   - Activity/Fragmentï¼Œå¸ƒå±€æ–‡ä»¶ï¼Œä¸»è¦æ§ä»¶
2. è¯¾ç¨‹è¡¨æ¨¡å—å®ç°
   - è¯¾ç¨‹æ·»åŠ é¡µé¢ UI
   - ListView/RecyclerView ä½¿ç”¨
   - SQLiteOpenHelper ä»£ç ç»“æ„
3. æ ¡å›­åœ°å›¾ä¸å¯¼èˆªæ¨¡å—å®ç°
   - åœ°å›¾åˆå§‹åŒ–ã€å®šä½ã€Marker æ·»åŠ ã€è·¯å¾„è§„åˆ’æ¥å£è°ƒç”¨
4. æ—¥ç¨‹ä¸æé†’æ¨¡å—å®ç°
   - æ•°æ®ç»“æ„è®¾è®¡ï¼ŒAlarmManager + BroadcastReceiver + Notification
5. å…¬å‘Š/èµ„è®¯æ¨¡å—å®ç°
   - Http è¯·æ±‚ä»£ç ã€JSON è§£æã€åˆ—è¡¨å±•ç¤º
6. ä¸ªäººä¸­å¿ƒå’Œè®¾ç½®æ¨¡å—å®ç°
   - SharedPreferences ç¤ºä¾‹ã€æ–‡ä»¶è¯»å†™ç¤ºä¾‹ã€å¤šåª’ä½“ç¤ºä¾‹

æ¯ä¸ªå°èŠ‚éƒ½å¯ä»¥æŒ‰ç…§â€œå‰æœŸå·¥ä½œï¼ˆæƒé™ã€å¸ƒå±€ï¼‰â†’ å…³é”®ä»£ç å®ç°â€å†™ï¼Œå‚è€ƒä½ æˆªå›¾ä¸­çš„ç›®å½•é£æ ¼ï¼ˆ3.1 å‰æœŸå·¥ä½œ / 3.2 ä»£ç å®ç°ï¼‰ã€‚

### ç¬¬ 5 ç« ï¼šç³»ç»Ÿæµ‹è¯•ä¸è¿è¡Œç»“æœ

1. æµ‹è¯•ç¯å¢ƒè¯´æ˜ï¼ˆæ‰‹æœºå‹å·ã€Android ç‰ˆæœ¬ï¼‰
2. åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹ï¼ˆè¡¨æ ¼ï¼šè¾“å…¥ã€é¢„æœŸç»“æœã€å®é™…ç»“æœï¼‰
3. ä¸»è¦ç•Œé¢æˆªå›¾ä¸è¯´æ˜
4. æ€§èƒ½å’Œç¨³å®šæ€§ç®€å•æµ‹è¯•ï¼ˆå¯åŠ¨æ—¶é—´ã€å†…å­˜å ç”¨è§‚å¯Ÿï¼‰

### ç¬¬ 6 ç« ï¼šæ€»ç»“ä¸å±•æœ›

1. é¡¹ç›®å®Œæˆæƒ…å†µä¸ä¸è¶³ï¼ˆå“ªäº›éœ€æ±‚åªåšäº†éƒ¨åˆ†ï¼‰
2. é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆï¼ˆå¦‚æƒé™ã€ç½‘ç»œã€åœ°å›¾ SDK é›†æˆï¼‰
3. åç»­æ‰©å±•è®¾æƒ³ï¼šæ¥å…¥çœŸå®æ•™åŠ¡ç³»ç»Ÿã€åœ¨çº¿é€‰è¯¾ã€æ ¡å›­å¡ä½™é¢æŸ¥è¯¢ç­‰ã€‚

---

## å››ã€çŸ¥è¯†ç‚¹ä¸æ¨¡å—å¯¹åº”æ€»è¡¨ï¼ˆä¾¿äºå†™åœ¨è®¡åˆ’ä¹¦ä¸­ï¼‰

| æ¨¡å—                   | ä¸»è¦åŠŸèƒ½                     | å¯¹åº”è¯¾ç¨‹çŸ¥è¯†ç‚¹/å®éªŒ                                |
| ---------------------- | ---------------------------- | -------------------------------------------------- |
| é¦–é¡µ & å¯¼èˆª            | Tab/BottomNavã€Fragment åˆ‡æ¢ | UI å¸ƒå±€ã€Activityã€Fragmentã€Intentã€å®éªŒ2/4       |
| è¯¾ç¨‹è¡¨ & æ•™å®¤æŸ¥è¯¢      | åˆ—è¡¨å±•ç¤ºã€å¢åˆ æ”¹æŸ¥           | ListView/RecyclerViewã€SQLiteã€æ•°æ®æŒä¹…åŒ–ã€å®éªŒ3/7 |
| æ ¡å›­åœ°å›¾ä¸å¯¼èˆªï¼ˆLBSï¼‰  | åœ°å›¾æ˜¾ç¤ºã€å®šä½ã€Markerã€è·¯å¾„ | LBS.pdfã€ç½‘ç»œ.pdfã€æƒé™ç®¡ç†                        |
| æ—¥ç¨‹ & æé†’            | å¤‡å¿˜å½•ã€å®šæ—¶æé†’ã€é€šçŸ¥       | å¹¿æ’­ã€AlarmManagerã€Notificationã€å¤šåª’ä½“           |
| å…¬å‘Š / èµ„è®¯ / å¤±ç‰©æ‹›é¢† | ç½‘ç»œè·å– JSONã€å›¾æ–‡å±•ç¤º      | ç½‘ç»œç¼–ç¨‹ã€JSON è§£æã€å¤šåª’ä½“                        |
| ä¸ªäººä¸­å¿ƒ               | è®¾ç½®ã€å¤´åƒã€æ•°æ®å¤‡ä»½         | SharedPreferencesã€æ–‡ä»¶å­˜å‚¨ã€å†…å®¹æä¾›å™¨.pdf        |

---

## äº”ã€æ—¶é—´å®‰æ’ï¼ˆå‚è€ƒï¼‰

- ç¬¬ 1 å‘¨ï¼šç¡®å®šéœ€æ±‚ä¸æ€»ä½“è®¾è®¡ï¼Œæ­å¥½é¡¹ç›®éª¨æ¶ä¸å¯¼èˆªæ¡†æ¶ã€‚
- ç¬¬ 2 å‘¨ï¼šå®Œæˆè¯¾ç¨‹è¡¨æ¨¡å—ï¼ˆUI + SQLiteï¼‰ã€‚
- ç¬¬ 3 å‘¨ï¼šå®Œæˆæ—¥ç¨‹æé†’æ¨¡å—ï¼ˆå«é€šçŸ¥ã€å¹¿æ’­ï¼‰ã€‚
- ç¬¬ 4 å‘¨ï¼šå®Œæˆæ ¡å›­åœ°å›¾ä¸å¯¼èˆªæ¨¡å—ï¼ˆé›†æˆåœ°å›¾ã€å®šä½ï¼‰ã€‚
- ç¬¬ 5 å‘¨ï¼šå®Œæˆå…¬å‘Š/èµ„è®¯æ¨¡å— + ä¸ªäººä¸­å¿ƒã€‚
- ç¬¬ 6 å‘¨ï¼šæ•´ä½“è”è°ƒã€UI ç¾åŒ–ã€æµ‹è¯•ä¸è®ºæ–‡æ’°å†™ã€‚

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥åœ¨ä¸‹ä¸€æ­¥å¸®ä½ ï¼š

1. æ ¹æ®è€å¸ˆç»™çš„â€œå®éªŒ 1~8â€é€æ¡åˆ—å‡ºï¼šæ¯ä¸ªå®éªŒå¯¹åº”ä½ é¡¹ç›®é‡Œå…·ä½“å“ªæ®µåŠŸèƒ½ï¼ç±»ã€‚  
2. æˆ–è€…æŠŠä¸Šé¢çš„è®¡åˆ’ä¹¦æ”¹å†™æˆ Word ç‰ˆçš„â€œç›®å½• + å°ç»“æ®µè½â€ï¼Œç›´æ¥èƒ½æ”¾è¿›å¼€é¢˜æŠ¥å‘Š/ä»»åŠ¡ä¹¦ã€‚



å¯ä»¥ï¼Œæ¥å…¥ LLM æ¨¡å—æ—¢èƒ½åŠ åˆ†ï¼Œåˆèƒ½å±•ç¤ºç½‘ç»œã€å¤šçº¿ç¨‹ã€JSON è§£æç­‰ç»¼åˆèƒ½åŠ›ã€‚ä¸‹é¢å¸®ä½ åœ¨åŸè®¡åˆ’åŸºç¡€ä¸Šï¼Œå•ç‹¬è®¾è®¡ä¸€ä¸ªã€ŒAI å­¦ä¹  / é—®ç­”åŠ©æ‰‹æ¨¡å—ã€ï¼Œå¹¶å†™æ¸…æ¥šè¦ç”¨åˆ°çš„çŸ¥è¯†ç‚¹ã€æ¥å£è°ƒç”¨æ€è·¯ï¼Œä»¥åŠåœ¨è®ºæ–‡é‡Œæ€ä¹ˆå†™ã€‚

---

## 2.7 AI å­¦ä¹ åŠ©æ‰‹æ¨¡å—ï¼ˆLLM æ¥å£ï¼‰

### 2.7.1 åŠŸèƒ½å®šä½

ä½œä¸ºã€Œæ ¡å›­ç”Ÿæ´»åŠ©æ‰‹ã€çš„æ‰©å±•åŠŸèƒ½ï¼Œä¸ºå­¦ç”Ÿæä¾›ä¸€ä¸ªç®€å•çš„ AI é—®ç­”/å­¦ä¹ è¾…åŠ©å·¥å…·ï¼Œæ¯”å¦‚ï¼š

- å­¦ä¹ é—®ç­”ï¼š  
  - æé—®è¯¾ç¨‹ç›¸å…³é—®é¢˜ï¼ˆé«˜æ•°ã€çº¿ä»£ã€C è¯­è¨€ç­‰ï¼‰ï¼ŒAI è¿”å›è§£é‡Šä¸ç¤ºä¾‹ã€‚
- å†™ä½œä¸è¡¨è¾¾è¾…åŠ©ï¼š  
  - è®© AI å¸®å¿™æ¶¦è‰²è‹±è¯­ä½œæ–‡ã€å†™å®éªŒç›®çš„è¯´æ˜ã€ç”Ÿæˆå¤ä¹ æçº²ã€‚
- è¯¾ä¸šå°åŠ©æ‰‹ï¼š  
  - æ•´ç†è¯¾å ‚ç¬”è®°è¦ç‚¹ï¼›
  - ç”Ÿæˆä¸€å®šèŒƒå›´å†…çš„ç»ƒä¹ é¢˜ï¼ˆä»…åšç¤ºä¾‹ï¼Œä¸åšå¤§è§„æ¨¡é¢˜åº“ï¼‰ã€‚

ç•Œé¢ä¸Šå¯ä»¥ä½œä¸ºåº•éƒ¨å¯¼èˆªæ ä¸­çš„ä¸€ä¸ª Tabï¼ˆä¾‹å¦‚æ”¾åœ¨ã€Œå‘ç°ã€é‡Œï¼Œæˆ–å•ç‹¬ä¸€ä¸ªã€ŒAI åŠ©æ‰‹ã€é¡µé¢ï¼‰ã€‚

---

### 2.7.2 ç•Œé¢ä¸äº¤äº’è®¾è®¡

**ç•Œé¢å½¢å¼ï¼ˆå»ºè®®æ¯”è¾ƒç®€å•ï¼‰ï¼š**

- é¡¶éƒ¨ï¼šæ ‡é¢˜æ ã€ŒAI å­¦ä¹ åŠ©æ‰‹ã€ï¼Œå³ä¸Šè§’ä¸€ä¸ªâ€œè®¾ç½®â€å›¾æ ‡ï¼ˆç”¨äºé…ç½® API Key / è°ƒè¯•å¼€å…³ï¼‰ã€‚
- ä¸­é—´ï¼šå¯¹è¯æ¶ˆæ¯åˆ—è¡¨ï¼ˆç±»ä¼¼èŠå¤©çª—å£ï¼‰ï¼š
  - å·¦ä¾§ï¼šAI å›å¤æ°”æ³¡ï¼›
  - å³ä¾§ï¼šç”¨æˆ·æé—®æ°”æ³¡ã€‚
- åº•éƒ¨ï¼šè¾“å…¥æ  + å‘é€æŒ‰é’®ï¼š
  - EditTextï¼šè¾“å…¥é—®é¢˜ï¼›
  - Button / ImageButtonï¼šå‘é€ã€‚
- å¯é€‰ï¼šæ·»åŠ ã€Œé—®é¢˜ç±»å‹ã€å¿«é€ŸæŒ‰é’®ï¼ˆä¾‹å¦‚ï¼šå­¦ä¹ è¾…å¯¼ / å†™ä½œè¾…åŠ© / ä»£ç è°ƒè¯•ï¼‰ï¼Œç‚¹å‡»ååœ¨ prompt å‰é¢è‡ªåŠ¨è¡¥å……â€œè§’è‰²è¯´æ˜â€ã€‚

**ä¸»è¦äº¤äº’æµç¨‹ï¼š**

1. ç”¨æˆ·åœ¨è¾“å…¥æ¡†è¾“å…¥é—®é¢˜ï¼Œç‚¹å‡»ã€Œå‘é€ã€ã€‚
2. ç«‹å³æŠŠç”¨æˆ·è¾“å…¥ä»¥â€œå³ä¾§æ°”æ³¡â€çš„å½¢å¼åŠ å…¥ RecyclerViewã€‚
3. æ˜¾ç¤ºä¸€æ¡â€œAI æ­£åœ¨æ€è€ƒâ€¦â€çš„ loading è¿›åº¦æç¤ºã€‚
4. è°ƒç”¨ LLM APIï¼Œè·å¾—å›å¤ååŠ å…¥åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶éšè— loadingã€‚
5. è‹¥ç½‘ç»œé”™è¯¯ / æ¥å£é”™è¯¯ï¼Œæ˜¾ç¤ºé”™è¯¯æç¤ºä¿¡æ¯ï¼ˆå¯ä»¥åšä¸€ä¸ªâ€œé‡è¯•â€æŒ‰é’®ï¼‰ã€‚

---

### 2.7.3 æ¶‰åŠçš„çŸ¥è¯†ç‚¹

**UI ä¸ç»„ä»¶ï¼š**

- Activity / Fragment ä½œä¸ºèŠå¤©ä¸»ç•Œé¢ã€‚
- RecyclerView + è‡ªå®šä¹‰ Adapter å®ç°èŠå¤©æ°”æ³¡åˆ—è¡¨ï¼ˆå·¦å³ä¸åŒå¸ƒå±€ï¼‰ã€‚
- EditText + Button åº•éƒ¨è¾“å…¥æ ï¼Œé…åˆè½¯é”®ç›˜é€‚é…ï¼ˆä½¿ç”¨ `android:windowSoftInputMode="adjustResize"`ï¼‰ã€‚

**ç½‘ç»œä¸å¤šçº¿ç¨‹ï¼š**

- ä½¿ç”¨ HttpURLConnection æˆ– OkHttp è°ƒç”¨ LLM æ¥å£ï¼ˆå…·ä½“çœ‹è¯¾ç¨‹è¦æ±‚ï¼‰ï¼š
  - POST è¯·æ±‚ï¼›
  - è¯·æ±‚å¤´ã€è¯·æ±‚ä½“ JSON æ„é€ ã€‚
- å­çº¿ç¨‹ç½‘ç»œè®¿é—® + ä¸»çº¿ç¨‹ UI æ›´æ–°ï¼š
  - Thread + Handlerï¼›
  - æˆ– AsyncTaskï¼›
  - æˆ–è¯¾ç¨‹å…è®¸çš„è¯ç”¨åç¨‹/ç¬¬ä¸‰æ–¹å¼‚æ­¥åº“ã€‚

**JSON è§£æï¼š**

- å°† LLM API è¿”å›çš„ JSON æ•°æ®è§£æå‡ºå›ç­”æ–‡æœ¬ï¼Œä½¿ç”¨ï¼š
  - åŸç”Ÿ JSONObject/JSONArrayï¼›
  - æˆ– Gsonï¼ˆå¦‚æœè€å¸ˆå…è®¸ç¬¬ä¸‰æ–¹åº“ï¼‰ã€‚

**æ•°æ®æŒä¹…åŒ–ï¼ˆå¯é€‰å¢å¼ºï¼‰ï¼š**

- ä¿å­˜å†å²å¯¹è¯è®°å½•ï¼ˆå¦‚æœ€è¿‘ 20 æ¡ï¼‰åˆ°æœ¬åœ°ï¼š
  - ä½¿ç”¨ SQLite / Roomï¼›
  - æˆ–ç®€å•ç”¨ SharedPreferences/æ–‡ä»¶ï¼ˆå­˜ json å­—ç¬¦ä¸²ï¼‰ã€‚

---

### 2.7.4 LLM API æ¥å…¥è®¾è®¡ï¼ˆä»¥é€šç”¨ HTTP ä¸ºä¾‹ï¼‰

> ä¸‹é¢ç”¨â€œä¼ªæ¥å£â€è®²æ€è·¯ï¼Œä½ å®é™…ä½¿ç”¨æ—¶æ ¹æ®å­¦æ ¡å…è®¸æƒ…å†µï¼Œé€‰ä¸€ä¸ªå…¬å¼€ LLM APIï¼ˆå¦‚ OpenAI / é˜¿é‡Œé€šä¹‰åƒé—® / ç™¾åº¦æ–‡å¿ƒ / Moonshot ç­‰ï¼‰ï¼Œä½†ä»£ç ç»“æ„åŸºæœ¬ç±»ä¼¼ã€‚

#### 1. ç½‘ç»œæƒé™ä¸é…ç½®

- åœ¨ `AndroidManifest.xml` ä¸­æ·»åŠ ï¼š

```xml
<uses-permission android:name="android.permission.INTERNET" />
```

- å¦‚æœä½¿ç”¨ HTTPSï¼Œæ³¨æ„å¼€å¯ç½‘ç»œå®‰å…¨é…ç½®ï¼ˆä¸€èˆ¬é»˜è®¤å³å¯ï¼‰ã€‚

#### 2. è¯·æ±‚æ•°æ®ç»“æ„ï¼ˆç¤ºä¾‹ï¼‰

ä»¥ä¸€ä¸ªå…¸å‹çš„ /chat/completions é£æ ¼æ¥å£ä¸ºä¾‹ï¼Œè¯·æ±‚ä½“å¤§è‡´æ˜¯ï¼š

```json
{
  "model": "your-model-name",
  "messages": [
    {"role": "system", "content": "ä½ æ˜¯ä¸€ä¸ªæ ¡å›­å­¦ä¹ åŠ©æ‰‹ï¼Œå›ç­”è¦ç®€æ´æ˜“æ‡‚ã€‚"},
    {"role": "user", "content": "å¸®æˆ‘è®²è®²ä»€ä¹ˆæ˜¯çº¿æ€§ç›¸å…³ï¼Ÿ"}
  ]
}
```

ä½ åœ¨ä»£ç ä¸­éœ€è¦ï¼š

- å°†ç”¨æˆ·çš„æé—®æ‹¼åœ¨ messages é‡Œï¼›
- system è®¾å®š AI çš„è§’è‰²ï¼ˆä¾‹å¦‚ï¼šæ ¡å›­å­¦ä¹ åŠ©æ‰‹ã€ä¸ä¼šç»™å‡ºè¿è§„/ä½œå¼Šç­”æ¡ˆç­‰ï¼‰ï¼›
- å¦‚æœè¦åšå¤šè½®å¯¹è¯ï¼ŒæŠŠä¹‹å‰çš„å‡ è½® `user` + `assistant` æ¶ˆæ¯ä¸€èµ·å‘é€è¿‡å»ã€‚

#### 3. ä½¿ç”¨ OkHttp è°ƒç”¨ï¼ˆç¤ºä¾‹ä»£ç ç»“æ„ï¼‰

```java
OkHttpClient client = new OkHttpClient();

MediaType JSON = MediaType.parse("application/json; charset=utf-8");

String url = "https://api.xxx.com/v1/chat/completions"; // ä½ é€‰ç”¨çš„ LLM åœ°å€
String apiKey = "YOUR_API_KEY"; // å¯ä»¥ä»è®¾ç½®é‡Œè¯»å–

// æ„å»ºè¯·æ±‚ JSON å­—ç¬¦ä¸²
JSONObject json = new JSONObject();
json.put("model", "your-model-name");

JSONArray messages = new JSONArray();
JSONObject systemMsg = new JSONObject();
systemMsg.put("role", "system");
systemMsg.put("content", "ä½ æ˜¯ä¸€ä¸ªæ ¡å›­å­¦ä¹ åŠ©æ‰‹ï¼Œç”¨ä¸­æ–‡ç®€æ´å›ç­”é—®é¢˜ã€‚");
messages.put(systemMsg);

JSONObject userMsg = new JSONObject();
userMsg.put("role", "user");
userMsg.put("content", userQuestion);  // EditText è¾“å…¥
messages.put(userMsg);

json.put("messages", messages);

RequestBody body = RequestBody.create(JSON, json.toString());

Request request = new Request.Builder()
        .url(url)
        .addHeader("Authorization", "Bearer " + apiKey)
        .post(body)
        .build();

// å­çº¿ç¨‹å‘é€è¯·æ±‚
new Thread(new Runnable() {
    @Override
    public void run() {
        try {
            Response response = client.newCall(request).execute();
            if (response.isSuccessful()) {
                String responseStr = response.body().string();
                // è§£æ JSON -> æ‹¿åˆ° AI çš„å›ç­”æ–‡æœ¬
                String answer = parseAnswerFromJson(responseStr);

                // å›åˆ°ä¸»çº¿ç¨‹æ›´æ–° UI
                runOnUiThread(new Runnable() {
                    @Override
                    public void run() {
                        addMessageToList(answer, /* isFromAI = */ true);
                    }
                });
            } else {
                // é”™è¯¯å¤„ç†
            }
        } catch (Exception e) {
            e.printStackTrace();
            // é”™è¯¯å¤„ç†
        }
    }
}).start();
```

`parseAnswerFromJson()` é‡Œè§£æç±»ä¼¼ï¼š

```json
{
  "choices":[
    {
      "message":{
        "role":"assistant",
        "content":"çº¿æ€§ç›¸å…³æ˜¯æŒ‡â€¦â€¦"
      }
    }
  ]
}
```

---

### 2.7.5 å®‰å…¨ä¸é™åˆ¶è¯´æ˜ï¼ˆåœ¨æŠ¥å‘Šé‡Œå¯ä»¥å†™ï¼‰

1. **API Key å®‰å…¨ï¼š**
   - ä¸è¦æŠŠçœŸå® Key å†™æ­»åœ¨ä»£ç é‡Œæäº¤åˆ°å…¬å…±ä»“åº“ï¼›
   - è¯¾ç¨‹ Demo å¯ä»¥å†™åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶é‡Œï¼ŒæŠ¥å‘Šä¸­è¯´æ˜â€œæ­£å¼ç¯å¢ƒåº”é€šè¿‡åå°æœåŠ¡ä¸­è½¬â€ã€‚

2. **å†…å®¹åˆè§„ï¼š**
   - system prompt ä¸­æ˜ç¡®ï¼šâ€œä¸å¾—æä¾›è€ƒè¯•ä½œå¼Šç­”æ¡ˆã€ä¸å¾—ç”Ÿæˆè¿æ³•è¿è§„å†…å®¹â€ï¼›
   - æŠ¥å‘Šé‡Œå¯ä»¥å†™ä¸€å¥ï¼šå¯¹æ•æ„Ÿ/è¿è§„æç¤ºè¿›è¡Œå‰ç«¯è¿‡æ»¤ï¼ˆå¦‚æ£€æµ‹åŒ…å«â€œè€ƒè¯•ç­”æ¡ˆâ€ç­‰å…³é”®è¯æ—¶ä¸ç›´æ¥è½¬å‘ï¼‰ã€‚

3. **è´¹ç”¨ä¸è°ƒç”¨é¢‘ç‡ï¼š**
   - æ ¹æ®ä½ é€‰æ‹©çš„ APIï¼Œä¸€èˆ¬æœ‰å…è´¹é¢åº¦ï¼›
   - åœ¨è®¾ç½®é‡Œå¢åŠ â€œå¼€å…³â€ï¼šå…è®¸ç”¨æˆ·æ‰‹åŠ¨å¯ç”¨æˆ–åœç”¨ AI æ¨¡å—ï¼Œé¿å…è¯¯è§¦æµªè´¹è°ƒç”¨æ¬¡æ•°ã€‚

---

## ä¸‰ã€åœ¨è®ºæ–‡ / æŠ¥å‘Šä¸­çš„å†™æ³•å»ºè®®

ä½ å¯ä»¥åœ¨åŸæ¥ç»“æ„é‡Œè¿™æ ·è¡¥å……ï¼š

### ç¬¬ 2 ç« ï¼šç³»ç»Ÿéœ€æ±‚åˆ†æ

- åœ¨åŠŸèƒ½éœ€æ±‚éƒ¨åˆ†æ–°å¢ä¸€èŠ‚ï¼š

> **2.x AI å­¦ä¹ åŠ©æ‰‹æ¨¡å—éœ€æ±‚**  
>
> - ç”¨æˆ·å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€å‘ AI æé—®è¯¾ç¨‹ç›¸å…³é—®é¢˜ï¼›  
> - ç³»ç»Ÿåº”åœ¨ 3~5 ç§’å†…è¿”å›æ–‡æœ¬å›ç­”ï¼›  
> - æ”¯æŒå¤šè½®ä¸Šä¸‹æ–‡å¯¹è¯ï¼ˆå¯é€‰ï¼‰ï¼›  
> - èƒ½å¤„ç†ç®€å•çš„å­¦ä¹ æŒ‡å¯¼ã€ä½œä¸šæ€è·¯æç¤ºï¼Œè€Œä¸ç›´æ¥ç»™å‡ºæ•´é¢˜ç­”æ¡ˆã€‚

### ç¬¬ 3 ç« ï¼šæ€»ä½“è®¾è®¡

- æ€»ä½“æ¶æ„å›¾é‡Œæ–°å¢ä¸€å—ã€ŒAI æœåŠ¡æ¨¡å—ã€ï¼š
  - App å®¢æˆ·ç«¯ â†’ LLM äº‘æœåŠ¡ï¼ˆHTTP/HTTPSï¼‰ã€‚
- ç®€è¦è¯´æ˜ï¼š
  - ä½¿ç”¨ HTTP POST è°ƒç”¨ç¬¬ä¸‰æ–¹ LLM APIï¼›
  - æ•°æ®æ ¼å¼ä¸º JSONï¼ŒåŒ…å« modelã€messages ç­‰å­—æ®µã€‚

### ç¬¬ 4 ç« ï¼šè¯¦ç»†è®¾è®¡ä¸å®ç°

æ–°å¢ä¸€èŠ‚ï¼š

> **4.x AI å­¦ä¹ åŠ©æ‰‹æ¨¡å—å®ç°**  
>
> - ç•Œé¢ï¼šRecyclerView å®ç°å¯¹è¯æ¶ˆæ¯æµï¼›  
> - ç½‘ç»œå±‚ï¼šåŸºäº OkHttp / HttpURLConnection å®ç° HTTP POSTï¼›  
> - å¤šçº¿ç¨‹ï¼šå­çº¿ç¨‹è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œä¸»çº¿ç¨‹æ›´æ–° UIï¼›  
> - JSON è§£æï¼šä½¿ç”¨ `org.json` è§£æè¿”å›ç»“æœï¼›  
> - æä¾›é”™è¯¯å¤„ç†ä¸ç®€å•é‡è¯•é€»è¾‘ã€‚

ä½ å¯ä»¥é™„ä¸Šï¼š

- å…³é”®å¸ƒå±€æ–‡ä»¶ç‰‡æ®µï¼ˆèŠå¤©æ°”æ³¡å¸ƒå±€ï¼‰ï¼›
- æ ¸å¿ƒè¯·æ±‚æ–¹æ³•çš„ä»£ç æˆªå–ï¼›
- ä¸€å¼ â€œæé—®+å›ç­”â€çš„è¿è¡Œç•Œé¢æˆªå›¾ã€‚

---

## å››ã€çŸ¥è¯†ç‚¹æ˜ å°„æ›´æ–°è¡¨

åœ¨åŸæœ‰è¡¨æ ¼åŸºç¡€ä¸Šï¼Œæ–°å¢ä¸€è¡Œï¼š

| æ¨¡å—               | ä¸»è¦åŠŸèƒ½                  | å¯¹åº”è¯¾ç¨‹çŸ¥è¯†ç‚¹/å®éªŒ                              |
| ------------------ | ------------------------- | ------------------------------------------------ |
| AI å­¦ä¹ åŠ©æ‰‹ï¼ˆLLMï¼‰ | è‡ªç„¶è¯­è¨€æé—®ã€AI æ–‡æœ¬å›ç­” | ç½‘ç»œç¼–ç¨‹ï¼ˆHTTPï¼‰ã€JSON è§£æã€å¤šçº¿ç¨‹ã€UI åˆ—è¡¨å±•ç¤º |

---

å¦‚æœä½ å·²ç»æœ‰æƒ³ç”¨çš„å…·ä½“ LLM å¹³å°ï¼ˆæ¯”å¦‚â€œæˆ‘å‡†å¤‡ç”¨ OpenAI / é€šä¹‰åƒé—® / XXX å¹³å°â€ï¼‰ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘å¹³å°åç§°ï¼Œæˆ‘å¯ä»¥æŒ‰é‚£ä¸ªå¹³å°çš„çœŸå®æ¥å£æ ¼å¼å¸®ä½ æ”¹å†™ä¸€ç‰ˆæ›´è´´è¿‘å®æˆ˜çš„è¯·æ±‚/è¿”å› JSON ç»“æ„å’Œç¤ºä¾‹ä»£ç ã€‚

è¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„é€‰æ‹©ï¼å¼€å‘ **æ¡Œé¢å°ç»„ä»¶ (App Widget)** æ˜¯å®‰å“å¼€å‘ä¸­çš„ä¸€ä¸ª**è¿›é˜¶äº®ç‚¹**ã€‚

å®ƒä¸ä»…èƒ½æå¤§åœ°æå‡ App çš„å®ç”¨æ€§ï¼ˆç”¨æˆ·ä¸ç”¨æ‰“å¼€ App å°±èƒ½çœ‹è¯¾è¡¨ï¼‰ï¼Œè¿˜èƒ½åœ¨ç­”è¾©æ—¶å±•ç¤ºä½ å¯¹ Android ç³»ç»Ÿæœºåˆ¶ï¼ˆBroadcastReceiverã€RemoteViewsã€Serviceï¼‰çš„æ·±åˆ»ç†è§£ã€‚

é’ˆå¯¹ä½ çš„éœ€æ±‚ï¼ˆTodo List + è¯¾ç¨‹è¡¨ï¼‰ï¼Œæˆ‘å»ºè®®è®¾è®¡ä¸ºä¸€ä¸ª**â€œä»Šæ—¥æ¦‚è§ˆâ€åˆ—è¡¨ç»„ä»¶**ã€‚

### æ ¸å¿ƒæ¶æ„å›¾è§£

å°ç»„ä»¶çš„å¼€å‘é€»è¾‘å’Œæ™®é€š Activity ä¸å¤ªä¸€æ ·ï¼Œå®ƒéœ€è¦â€œè¿œç¨‹â€æ§åˆ¶æ¡Œé¢çš„è§†å›¾ï¼š

1.  **AppWidgetProvider**: æœ¬è´¨æ˜¯ä¸€ä¸ª `BroadcastReceiver`ï¼Œè´Ÿè´£æ¥æ”¶ç³»ç»Ÿå¹¿æ’­ï¼ˆå¦‚æ›´æ–°ã€å¯ç”¨ã€åˆ é™¤ï¼‰ã€‚
2.  **RemoteViews**: æ¡Œé¢å°ç»„ä»¶ä¸èƒ½ç›´æ¥ç”¨æ™®é€šçš„ Viewï¼Œå¿…é¡»ç”¨ `RemoteViews` æ¥æ¸²æŸ“å¸ƒå±€ï¼ˆæ”¯æŒçš„æ§ä»¶æœ‰é™ï¼Œä¸»è¦æ˜¯ ListView, TextView, ImageView ç­‰ï¼‰ã€‚
3.  **RemoteViewsService**: ç±»ä¼¼äº Adapter çš„è§’è‰²ï¼Œè´Ÿè´£ä¸ºå°ç»„ä»¶é‡Œçš„ `ListView` æä¾›æ•°æ®ï¼ˆè¿æ¥ SQLiteï¼‰ã€‚

---

### è¯¦ç»†å®æ–½æ­¥éª¤

#### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå¸ƒå±€æ–‡ä»¶ (res/layout)

ä½ éœ€è¦ä¸¤ä¸ªå¸ƒå±€ï¼šä¸€ä¸ªæ˜¯å°ç»„ä»¶çš„ä¸»ä½“ï¼Œä¸€ä¸ªæ˜¯åˆ—è¡¨ä¸­æ¯ä¸€è¡Œçš„æ ·å¼ã€‚
**æ³¨æ„ï¼š** å°ç»„ä»¶å¸ƒå±€åªèƒ½ä½¿ç”¨ `FrameLayout`, `LinearLayout`, `RelativeLayout`, `TextView`, `ImageView`, `ListView` ç­‰å°‘æ•°æ§ä»¶ï¼Œ**ä¸èƒ½ä½¿ç”¨ RecyclerView**ã€‚

**1. `widget_schedule_todo.xml` (ä¸»ä½“å¸ƒå±€)**
```xml
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@drawable/widget_background" 
    android:padding="8dp">

    <!-- æ ‡é¢˜æ  -->
    <TextView
        android:id="@+id/tv_widget_title"
        android:text="ä»Šæ—¥æ—¥ç¨‹ & è¯¾è¡¨"
        android:textSize="16sp"
        android:textStyle="bold"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"/>

    <!-- åˆ—è¡¨å®¹å™¨ -->
    <ListView
        android:id="@+id/lv_widget_list"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:divider="@null" />
        
    <!-- ç©ºæ•°æ®å±•ç¤º (å½“ListViewä¸ºç©ºæ—¶æ˜¾ç¤º) -->
    <TextView
        android:id="@+id/tv_empty_view"
        android:text="ä»Šå¤©æ²¡æœ‰å¾…åŠå“¦~"
        android:visibility="gone"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>
</LinearLayout>
```

**2. `item_widget_list.xml` (å•è¡Œå¸ƒå±€)**
ç®€å•å¸ƒå±€ï¼Œå·¦è¾¹æ˜¾ç¤ºæ—¶é—´ï¼Œå³è¾¹æ˜¾ç¤ºå†…å®¹ï¼ˆè¯¾ç¨‹åæˆ–å¾…åŠäº‹é¡¹ï¼‰ã€‚

---

#### ç¬¬äºŒæ­¥ï¼šé…ç½® Widget å…ƒæ•°æ® (res/xml)

æ–°å»º `res/xml/widget_info.xml`ï¼Œå®šä¹‰ç»„ä»¶å¤§å°å’Œæ›´æ–°é¢‘ç‡ã€‚

```xml
<appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    android:minWidth="250dp"
    android:minHeight="110dp"
    android:updatePeriodMillis="1800000" 
    android:initialLayout="@layout/widget_schedule_todo"
    android:resizeMode="horizontal|vertical"
    android:widgetCategory="home_screen">
    <!-- updatePeriodMillis è®¾ä¸º 0 æˆ– 30åˆ†é’Ÿï¼Œå› ä¸ºä¸»è¦é ä»£ç ä¸»åŠ¨åˆ·æ–° -->
</appwidget-provider>
```

---

#### ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æ ¸å¿ƒç±» (Java/Kotlin)

è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªç±»ï¼šä¸€ä¸ªæ˜¯å¤„ç†å¹¿æ’­çš„ Providerï¼Œä¸€ä¸ªæ˜¯å¤„ç†æ•°æ®çš„ Serviceã€‚

**1. `ScheduleWidgetProvider.java` (æ§åˆ¶å™¨)**

```java
public class ScheduleWidgetProvider extends AppWidgetProvider {

    @Override
    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {
        // éå†æ‰€æœ‰çš„ Widget å®ä¾‹ï¼ˆç”¨æˆ·å¯èƒ½åœ¨æ¡Œé¢ä¸Šæ”¾äº†å¤šä¸ªï¼‰
        for (int appWidgetId : appWidgetIds) {
            updateAppWidget(context, appWidgetManager, appWidgetId);
        }
    }

    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {
        // 1. æ„å»º RemoteViews
        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_schedule_todo);

        // 2. ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼ˆç‚¹å‡»æ ‡é¢˜æ‰“å¼€ Appï¼‰
        Intent intentOpenApp = new Intent(context, MainActivity.class);
        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intentOpenApp, PendingIntent.FLAG_IMMUTABLE);
        views.setOnClickPendingIntent(R.id.tv_widget_title, pendingIntent);

        // 3. ç»‘å®š ListView çš„é€‚é…å™¨æœåŠ¡
        Intent intentService = new Intent(context, WidgetRemoteViewsService.class);
        views.setRemoteAdapter(R.id.lv_widget_list, intentService);
        views.setEmptyView(R.id.lv_widget_list, R.id.tv_empty_view);

        // 4. æ›´æ–° Widget
        appWidgetManager.updateAppWidget(appWidgetId, views);
    }
    
    // å½“æ”¶åˆ°æ•°æ®æ›´æ–°å¹¿æ’­æ—¶è°ƒç”¨ï¼ˆä¸‹é¢ä¼šè®²ï¼‰
    @Override
    public void onReceive(Context context, Intent intent) {
        super.onReceive(context, intent);
        if ("com.example.UPDATE_WIDGET".equals(intent.getAction())) {
            AppWidgetManager mgr = AppWidgetManager.getInstance(context);
            ComponentName cn = new ComponentName(context, ScheduleWidgetProvider.class);
            // è§¦å‘åˆ—è¡¨æ•°æ®åˆ·æ–°
            mgr.notifyAppWidgetViewDataChanged(mgr.getAppWidgetIds(cn), R.id.lv_widget_list);
        }
    }
}
```

**2. `WidgetRemoteViewsService.java` (æ•°æ®é€‚é…å™¨)**

è¿™ä¸ªç±»ç±»ä¼¼äº RecyclerView çš„ Adapterï¼Œè´Ÿè´£å» SQLite æŸ¥æ•°æ®ã€‚

```java
public class WidgetRemoteViewsService extends RemoteViewsService {
    @Override
    public RemoteViewsFactory onGetViewFactory(Intent intent) {
        return new ScheduleRemoteViewsFactory(this.getApplicationContext());
    }
}

class ScheduleRemoteViewsFactory implements RemoteViewsService.RemoteViewsFactory {
    private Context mContext;
    private List<MyItem> mDataList = new ArrayList<>(); // è‡ªå®šä¹‰å®ä½“ç±»

    public ScheduleRemoteViewsFactory(Context context) {
        mContext = context;
    }

    @Override
    public void onDataSetChanged() {
        // !!! è¿™é‡Œæ˜¯åœ¨å­çº¿ç¨‹æ‰§è¡Œçš„ï¼Œå¯ä»¥ç›´æ¥æŸ¥æ•°æ®åº“ !!!
        mDataList.clear();
        
        // 1. è·å–å½“å‰æ˜ŸæœŸå’Œæ—¥æœŸ
        // 2. æŸ¥è¯¢ SQLite ä¸­çš„ã€è¯¾ç¨‹è¡¨ã€‘ï¼ˆç­›é€‰ä»Šå¤©çš„è¯¾ï¼‰
        // 3. æŸ¥è¯¢ SQLite ä¸­çš„ã€Todo Listã€‘ï¼ˆç­›é€‰æœªå®Œæˆçš„ï¼‰
        // 4. å°†ä¸¤è€…åˆå¹¶åˆ°ä¸€ä¸ª List ä¸­ï¼ŒæŒ‰æ—¶é—´æ’åº
        
        // ä¼ªä»£ç ï¼š
        // mDataList.addAll(dbHelper.getTodayCourses());
        // mDataList.addAll(dbHelper.getUnfinishedTodos());
        // Collections.sort(mDataList);
    }

    @Override
    public RemoteViews getViewAt(int position) {
        // æ„å»ºå•ä¸ª Item çš„å¸ƒå±€
        RemoteViews rv = new RemoteViews(mContext.getPackageName(), R.layout.item_widget_list);
        MyItem item = mDataList.get(position);
        
        rv.setTextViewText(R.id.tv_item_title, item.getTitle());
        rv.setTextViewText(R.id.tv_item_time, item.getTime());
        
        // å¯ä»¥æ ¹æ®æ˜¯è¯¾ç¨‹è¿˜æ˜¯Todoï¼Œæ”¹å˜æ–‡å­—é¢œè‰²æˆ–å›¾æ ‡
        if(item.isCourse()){
             rv.setImageViewResource(R.id.iv_icon, R.drawable.ic_course);
        } else {
             rv.setImageViewResource(R.id.iv_icon, R.drawable.ic_todo);
        }

        return rv;
    }

    // å…¶ä»–å¿…é¡»å®ç°çš„æ–¹æ³• (onCreate, getCount, etc.) ...
}
```

---

#### ç¬¬å››æ­¥ï¼šæ³¨å†Œ Manifest (AndroidManifest.xml)

éå¸¸é‡è¦ï¼åˆ«å¿˜äº†æ³¨å†Œ Receiver å’Œ Serviceã€‚

```xml
<application ...>
    
    <!-- æ³¨å†Œ Provider -->
    <receiver android:name=".widget.ScheduleWidgetProvider"
        android:exported="true">
        <intent-filter>
            <action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
            <!-- è‡ªå®šä¹‰æ›´æ–°å¹¿æ’­ -->
            <action android:name="com.example.UPDATE_WIDGET" />
        </intent-filter>
        <meta-data
            android:name="android.appwidget.provider"
            android:resource="@xml/widget_info" />
    </receiver>

    <!-- æ³¨å†Œ Service (å¿…é¡»åŠ  permission) -->
    <service android:name=".widget.WidgetRemoteViewsService"
        android:permission="android.permission.BIND_REMOTEVIEWS" />

</application>
```

---

#### ç¬¬äº”æ­¥ï¼šå®ç°æ•°æ®å®æ—¶åŒæ­¥ï¼ˆå…³é”®åŠ åˆ†ç‚¹ï¼‰

å°ç»„ä»¶ä¸ä¼šè‡ªå·±å˜ï¼Œç”¨æˆ·åœ¨ App é‡Œæ·»åŠ äº†è¯¾ç¨‹æˆ– Todo åï¼ŒApp éœ€è¦ä¸»åŠ¨é€šçŸ¥å°ç»„ä»¶åˆ·æ–°ã€‚

**åœ¨ä½ çš„â€œæ·»åŠ è¯¾ç¨‹â€æˆ–â€œæ·»åŠ æ—¥ç¨‹â€çš„ Activity ä¿å­˜æ•°æ®æˆåŠŸåï¼ŒåŠ ä¸Šè¿™è¡Œä»£ç ï¼š**

```java
// å‘é€å¹¿æ’­é€šçŸ¥ Widget åˆ·æ–°
Intent intent = new Intent(this, ScheduleWidgetProvider.class);
intent.setAction("com.example.UPDATE_WIDGET"); // å’Œ Manifest é‡Œå®šä¹‰çš„ä¸€è‡´
sendBroadcast(intent);
```

è¿™æ ·ï¼Œç”¨æˆ·åœ¨ App é‡Œä¸€æ“ä½œï¼Œæ¡Œé¢ä¸Šçš„åˆ—è¡¨ç«‹åˆ»å°±ä¼šåˆ·æ–°ï¼Œä½“éªŒéå¸¸ä¸æ»‘ï¼

### ğŸ’¡ ç­”è¾©æŠ€å·§ï¼š
1.  **å±•ç¤ºæ—¶ï¼š** æ‹¿ç€çœŸæœºï¼ˆæˆ–æ¨¡æ‹Ÿå™¨ï¼‰é€€å›æ¡Œé¢ï¼Œæ·»åŠ ä¸€ä¸ªå°ç»„ä»¶ã€‚
2.  **æ¼”ç¤ºåŒæ­¥ï¼š** æ‰“å¼€ App åŠ ä¸€ä¸ªæ˜å¤©çš„æ—¥ç¨‹ï¼Œç„¶åé€€å›æ¡Œé¢ï¼ŒæŒ‡ç€å°ç»„ä»¶è¯´ï¼šâ€œå¤§å®¶çœ‹ï¼Œæ¡Œé¢ç»„ä»¶å·²ç»è‡ªåŠ¨åŒæ­¥äº†æœ€æ–°çš„æ•°æ®ï¼Œåˆ©ç”¨äº† Android çš„å¹¿æ’­æœºåˆ¶å’Œ RemoteViewsFactory å®ç°ã€‚â€
3.  **æŠ€æœ¯éš¾ç‚¹ï¼š** å¦‚æœè€å¸ˆé—®éš¾ç‚¹ï¼Œä½ å¯ä»¥è¯´ï¼šâ€œå› ä¸º Widget è¿è¡Œåœ¨ç‹¬ç«‹è¿›ç¨‹ï¼Œä¸èƒ½ç›´æ¥è®¿é—® App å†…å­˜ï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡ SQLite å…±äº«æ•°æ®ï¼Œå¹¶ä¸”ä½¿ç”¨ RemoteViewsService è¿›è¡Œè·¨è¿›ç¨‹çš„æ•°æ®ç»‘å®šã€‚â€

ç¥ä½ çš„å¤§ä½œä¸šé¡ºåˆ©å®Œæˆï¼è¿™ä¸€å—åšå‡ºæ¥ç»å¯¹æ˜¯é«˜åˆ†é¡¹ã€‚